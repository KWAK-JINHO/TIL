# 객체지향의 사실과 오해 정리
<br>

## 1. 협력하는 객체들의 공동체
1장 에서는 이해를 돕기위해 객체를 손님,캐시어,바리스타로 비유한다. 각 "**역할**"은 "**책임**"을 가지고 서로 요청과
응답을 주고 받으며 "**협력**"하는 존재로 설명되고 있다.

### 객체의 특징
  1. 여러 객체가 동일한 역할을 수행할 수 있다.
  2. 역할은 대체 가능성을 의미한다.
  3. 각 객체는 책임을 수행하는 방법을 자율적으로 선택할 수 있다.
  4. 하나의 객체가 동시에 여러 역할을 수행할 수 있다.

### 객체의 덕목
  1. 서로 충분히 **협력적** 이여야 한다.
  2. 충분히 **자율적** 이여야 한다. 요청에 대한 응답을 스스로의 원칙에 따라서 판단, 결정할 수 있어야 한다.
     - 객체의 자율성은 내부와 외부를 명확하게 구분하는 것으로부터 나온다. 다른 객체가 '무엇'을 할지는 알지만 '어떻게'
         수행되는지는 알 수 없어야 한다. *이것이 데이터와 프로세스를 엄격하게 구분하는 전통적인 개발방법과 객체지향을 구분짓는 핵심적인 차이다.*
     - 자율성은 유지보수가 쉽고 재사용성이 용이한 시스템을 구축할 가능성을 제시한다.

### OOP의 주요개념 (책내용 아님)

  1. 추상화
     - 복잡한 시스템에서 핵심적인 부분만을 모델링하여 불필요한 세부사항은 숨기는 기법

  2. 상속
     - 부모클랫의 속성과 메소드를 새로운 클래스가 물려받아 재사용하는 기법

  3. 다형성
     - OOP에서 하나의 인터페이스를 통해 여러 다른 타입의 객체를 다룰 수 있는 능력.
     - 보통 두가지 형태로 나타난다.
       1. overloading : 컴파일 시간 다형성을 구현하는 방식으로 같은 이름 메서드가 여러개 정의된다. (매개변수의 타입, 개수, 또는 순서가 달라야 한다.)
       2. overriding : 상속 관계에 있는 부모 클래스의 메소드를 자식 클래스에서 재정의하여 사용하는 방식
          oop는 이 두가지를 모두 사용할 수 있으며 overriding이 다른 프로그래밍 언어와 oop를 구분짓는 핵심 적인 특징중 하나이다.
  4. 캡슐화
     - 객체의 내부 상태(속성)와 행동(메소드)을 하나로 묶고 외부에 대한 직접적 접근을 제한하는 기법.
     - 데이터를 보호하고 객체간의 상호작용을 제어할 수 있다.

## 2. 이상한 나라의 객체

### 상태와 행동
  - 객체의 다양한 특성을 효과적으로 설명하기 위해서는 객체를 상태, 행동, 식별자를 지닌 실체로 보는것이 효과적이다.
  - 객체의 모든 상태는 단순한 값과 객체의 조합으로 표현할 수 있다.
  - 객체의 상태를 구성하는 모든 특징을 통틀어 객체의 프로퍼티라고 한다. (일반적으로 프로퍼티는 고정)
  - 프로퍼티 값은 시간이 흐름에 따라 변경된다.
  - 객체의 프로퍼티는 단순한 값인 속성과 다른 객체를 가리키는 링크라는 두가지 종료의 조합으로 표현가능하다.
  - 행동은 다른 객체로 하여금 간접적으로 객체의 상태를 변경하는 것을 가능하게 한다. 객체지향의 기본 사상은 상태와 상태를 조작하기
    위한 행동을 하나의 단위로 묶는 것이라는 점을 기억하자. 객체는 스스로의 행동에 의해서만 상태가 변경되는것을 보장함으로써 객체의 자율성을 유지.

### 기계로서의 객체
여기서는 객체를 차가운 금속 외피로 둘러쌓인 블랙박스로 비유한다.
  - 객체의 상태를 조회하는것은 **쿼리**, 상태를 변경하는것은 **명령**
  - 객체에 접근할 수 있는 유일한 방법은 객체 제공하는 행동뿐이다. <br>
    --> <br>
    사용자는 객체가 제공하는 명령 버튼과 쿼리 버튼으로 구성된 인터페이스를 통해서만 객체에 접근할 수 있다.

  - 초보자들이 쉽게 하는 실수는 첫번째로 객체에 필요한 상태가 무엇인지 결정하고 두번째로 그상태에 필요한 행동을 결정 하는것이다. 
    이러한 실수(상태를 먼저 결정하는 실수)는
    1. 캡슐화를 저해시킨다. 공용 인터페이에 상태가 노출될 확률이 높아짐
    2. 객체를 협력자가 아닌 섬으로 만든다.
    3. 객체의 재사용서이 저하.

  - 협력에 참여하는 가장 중요한 덕목은 상태가 아닌 행동에 초점을 맞추는 것.

## 3. 타입과 추상화
추상화의 목적은 복잡성의 극복이다.

### 일반화
  - 클래스들간의 공통적인 속성이나 동작을 추출하여 더 상위의 클래스로 만드는과정
    -->
    이 과정을 통해 코드의 중복을 줄이고 구조를 효율적으로 만든다.
  - 공통적인 부분으로 그룹을 만들었을때 그안의 객체를 그룹의 "인스턴스" 라고 부른다.

### 분류
  - 분류란 객체에 틀정한 개념을 적용하는 일이다. 어떤 객체를 어떤 개념에 분류할것인지
    결정하는 것이 객체 지향의 품질을 결정한다. (객체를 안전하고 적절하게 최대한 직관적으로 분류하자!!)

### 타입
  - 타입의 서술은 개념과 완벽히 일치한다. 타입 시스템의 목적은 데이터가 잘못 되지 않도록 제약을 거는 것이다.

####  객체의 타입
  1. 어떤 객체가 어떤 타입에 들어갈지 결정하는 것은 객체가 수행하는 "행동"이다.
  2. 객체의 행동을 효과적으로 표현할 수만 있으면 내부적으로 상태를 어떻게 표현하더라도 괜찮다.
     - 결과적으로 객체를 타입으로 분류할때 행동만 염두한다.
       행동만 동일하다면 내부적으로 어떤 데이터를 가지고 있던지 같은 타입으로 본다. 여기서 행동이 동일하다는 것은 같은 메시지를 수신
       한다는 뜻이도, 이를 다른 방식으로 처리한다는 의미이다. 이것은 "다형성"에 의미를 부여한다.

### 정적 모델

#### 타입의 목적
  - 타입은 시간에 따라 동적으로 변하는 객체의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다.
  - 이런 관점에서 타입은 추상화이다.
  - 타입을 이용하면 객체의 동적인 특성을 추상화할 수 있다. (타입은 시간에 따른 객체의 상태 변경을 단순화 해준다)
  - 동적 모델 vs 정적 모델
    - 동적 모델 : 특정 시점에 구체적으로 어떤 상태를 가지는가
    - 정적 모델(타입 모델): 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것.
      - 클래스를 이용해 구현된다. 따라서 타입을 구현하는 가장 보편적인 방법이 클래스를 이용하는 것.
    - 객체지향 애플리케이션을 설계하고 구현할때 이 둘을 적적히 혼용해야한다.

✎ 객체를 분류하는 기준은 타입, 타입을 나누는 기준은 객체가 수행하는 행동이다.

## 4. 역할, 책임, 협력
  어떤 협력에 참여하는지가 객체에 필요한 행동을 결정하고, 필요한 행동이 객체의 상태를 결정한다.
  
### 책임
  - 책임은 객체지향 설계의 가장 중요한 재료
  - 책임을 어떻게 구현할 것인지는 객체와 책임이 제자리를 잡은 후에 고려해도 늦지 않다.
  - 객체지향 설계의 예술은 적절한 객체에게 적절한 책임을 할당하는 데 있다.
  - 책임은 객체의 외부에 제공해 줄 수 있는 정보와 내부에 제공해 줄 수 있는 서비스의 목록. 따라서 책임은 객체의 공용 인터페이스를 구성한다.
  - 설계의 초반에는 어떤 객체가 어떤 책임을 가지고 어떤 방식으로 협력해야 하는지에 대한 개요를 아는 것만으로도 충분하다.

### 역할
  - 역할은 재사용이 가능하고 유연한 객체지향 설계를 낳는다.
  - 역할은 협력 내에서 다른 객체로 대체할 수 있음을 나타내는 일종의 표식이다.
  - 역할은 객체지향 설계의 단순성, 유연성, 재사용성을 뒷받침하는 핵심 개념이다.
  - 역할의 가장 큰 가치는 하나의 협력 안에 여러 종류의 객체가 참여할 수 있게 함으로써 협력을 추상화할 수 있다는 것
    -> 애플리케이션의 설계를 이해하고 기억하기 쉬워진다.

### 초보자의 흔한오류
  - 객체가 존재하는 이유는 협력에 참여하기 위해서, 실제로 중요한 것은 객체의 행동, 즉 책임이다.
  - 객체지향이 클래스와 클래스 간의 관계를 표현하는 시스템의 정적인 측면에 중점을 둔다. -> 중요한것은 정적인 클래스가 아니라
    협력에 참여하는 동적인 객체(핵심은 객체가 협력 안에서 어떤 책임과 역할을 수행할 것인지를 결정하는 것.)

✎ 객체지향 설계의 핵심은 올바른 객체에 올바른 책임을 할당하는 것. 궁극적으로, 객체들은 자율적이면서도 협력적이여야 하며, 이를 위해 협력의 틀 안에서
자율성을 갖춘 객체를 만들어야 한다.

### 객체지향 설계 기법
  1. 책임 - 주도 설계 : 협력에 필요한 책임들을 식별, 적합한 객체에게 책임을 할당하는 방식
     - 시스템이 제공해햐할 기능인 시스템 책임을 파악
    