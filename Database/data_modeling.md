> 핵심 데이터 모델링 참고

# 데이터 모델링이란?

- 데이터 모델: 정보, 데이터를 추상화하여 체계적으로 표현한 모형
- 데이터 모델링: "영속성"을 갖는 데이터에 대한 시스템 구조를 형상화 하는 과정
- 업무를 파악하여 엔티티, 속성, 관계로 형상화
- 엔티티 도출 (복합 정보를 포괄적으로 수용하고 있는 경우)

# ER 모델(Entuty-Relationship Model)

- 가장 널리 활용된다.
- ERD(Entuty-Realationship Diagram)는 ER모델에서 사용하는 실체와 관계를 도식화한 것

## ER 모델의 구성 요소

- "엔티티", "관계", "속성", 속성과 관계중 하나 이상의 조합으로 구성된 "식별자"

### 엔티티

- 그냥 존재하는 것 그 자체
- 적어도 둘 이상의 인스턴스가 존재할 수 있어야 한다.
- 각 인스턴스를 식별할 수 있는 속성이나 관계가 하나이상 정의.

1. 일반화: 두개 이상의 하위 수준엔티티를 결합하여 상위 수준의 엔티티로 통합하는 상향식 접근 방식
2. 특수화: 일반화의 반대 개념, 하나의 상위 수준 엔티티를 두개 이상의 하위 수준 엔티티로 분할하는 하향식 접근
3. 집단화: 하나의 엔티티로 취급되는 두개 엔티티 사이에서 나타나며, 해당 엔티티와의 관계가 상위 수준 엔티티로 대체된다.

### 관계

#### 관계의 구성요소

1. 관계수
2. 선택성: Optional : 0, Mandatory: 1
3. 식별자 상속: PK이면서 FK(PK를 상속받은 상태)

*베타적 관계: 한 엔티티가 여러 관계 중 오직 하나의 관계만 가질 수 있는 조건*

### 속성

- 데이터를 표현하는 가장 작은 단위

### 식별자

#### 식별자의 특징

1. 유일성
2. 최소성
3. 불변성
4. 존재성

## 관계형 데이터 모델 이론

ER모델: 개념적 수준
관계형 데이터 모델: 논리적 수준

### 관계형 모델의 키

1. 슈퍼키: 모든키(속성 집합)
2. 후보키: 최소한의 속성 집합
3. 기본키: NN + UQ
4. 대체키: 후보키중에 기본키가 아닌 키
5. 외래 키

## 제약조건

1) 키 제약조건

- 키는 튜플을 유일하게 식별할 수 있는 속성들로 구성
- 중복x

2) 무결성
    - Not Null + Unique
    - 속성은 정의된 도메인에 속한 값
    - 자식의 FK는 부모의 PK외에 다른 값 x

## 함수 종속

- 속성 A값이 B의 값을 결정할 때 A -> B 이 때 B는 A에게 함수 종속

# 정규화

## 제 1 정규형

도메인은 원자값을 가져야한다.

<img src="./Database/img/제1.png" width="20%" height="20%">

## 제 2 정규형

부분종속을 제거

<img src="./Database/img/제2.png" width="20%" height="20%">

=> 이름은 학번만 알면 조회 가능 -> 테이블을 분리

<img src="./Database/img/2-2.png" width="20%" height="20%">

## 제 3 정규형

이행적 함수 종속 제거

<img src="./Database/img/3.png" width="20%" height="20%">

학번으로 모두 조회 가능 하지만, 학과 건물은 학과를 알아도 알 수 있다.
학번 -> 학과 -> 학과 이렇게 이행적인 함수 종속 상태 -> 테이블 분리

<img src="./Database/img/3-2.png" width="20%" height="20%">

# 데이터 모델링 접근방법

## 데이터 모델링

### 분석단계

1. 현행분석(업무, 데이터 분석)
2. 요구사항 정의
3. 방향성 수립

### 설계단계

1. 개념 모델링
2. 논리 모델링
3. 물리 모델링

## 리버스 모델링

현업가면 대부분 ERD 없다. 이 때 현행 시스템의 DB메타정보를 이용해여 ERD 작성하는 것

# 개념 모델링

# 데이터 모델링 접근 방법

1) 분석

- 현행업무, 현행 데이터 분석
- 방향성 수힙

2) 설계

- 개념 모델링
- 논리 모델링
- 물리 모델링

## 현행 분석 및 방향성 수립

- 실제 데이터, 요구사항을 상세화 해서 현행 데이터를 개선

## 리버스모델링

- 기존 시스템이나 DB를 구조 분석하여 원래의 설계 나 모델을 도출

# 개념 모델링

- 세부사항x, 큰그림

## 순서

1. 주제영역 도출
2. 주제영역 분류 및 정의
3. 핵심 엔티티 정의 및 관계 정의

# 논리 모델링

- 명확하고 구체적
- DBMS의 물리적인 특성은 고려하지 않음 (성능이 저하되면 역정규화 고려)

# 엔티티 정의 및 상세화

## 핵심 엔티티 (기준정보)

- 데이터 모델링 과정에서 가장 먼저 분석해야 하는 대상
- 독립적으로 정의한 엔티티 또는 업무를 위해 미리 정의한 엔티티

### 데이터 성격으로 나눈 핵심 엔티티

- 유형 및 분류: 실세계 데이터 집합을 유형화 또는 계층적으로 분류
- 업무규칙 및 지식: 업무 처리를 위한 각종 규정, 지식, 비즈니스 이벤트 발생을 위한 조건
- 업무주체 및 대상: 이벤트의 주체
- 장소: 이벤트 장소

> 고객의 범주: 소셜 로그인, 개인사업자 vs 개인, 직원도 고객으로 생각할 것인가 등 고려사항 있음

