# 1장 / 데이터베이스와 SQL

### DataBase란?

- 저장장치 내에 정리되어 저장된 데이터의 집합

### DBMS(DataBase Management System)란?

- DB를 효율적으로 관리하는 시스템

### DBMS의 필요 이유

- 생산성 : 기본기능(검색, 추가, 삭제, 갱신등..) 제공
- 기능성
- 신뢰성: 하드웨어를 여러대 구성하여 신뢰성을 높이고 동시에 성능향상을 꾀한다.

**※ RDBMS와 대화에 필요한것이 "SQL" 이다.**

### SQL 명령의 종류

- DML : 데이터 추가, 삭제, 갱신, 조작에 사용
- DDL : 데이터를 관리하는 베이스 객체를 추가/삭제
- DCL : 트렌젝션 제어, 데이터 접근권한

### DB저장방법에 따른 종류

- 계층형DB: 계층구조, 옛날거, 안씀
- 관계형DB: 행과 옆을 가지는 표 형식(2차원 데이터)데이터를 저장
- XML DB: XML 형식으로 기록된 Data
- Key-Vaule 스토어: NoSQL, 열 지향 DB

### SQL 사용가능 RDBMS

- Oracle, PostgreSQL(오픈소스), MySQL(오픈소스)

### 웹 과 RDBMS

- 웹: 클라이언트와 서버가 요청과 응답(HTML)을 주고 받는다.
- RDBMS: 웹과는 다르게 사용자인증이 필요하다. 클라이언트가 사용자 인증을 받아서 DB에 접속하면 SQL명령을 서버에 보낼 수 있다.

### CGI

- 웹 서버에 CGI라 불리는 동저 컨텐츠를 위한 화장 방식. 이것을 이용하여 프로그램과 웹서버 간을 연동, 통신하여 처리

1. 클라이언트의 서버로의 요청
2. CGI프로그램이 DB서버에 접속, SQL명령 전달 (CGI가 DB의 클라이언트가 됨)
3. HTML 응답

### RDBMS

- 관계형 데이터베이스는 테이블처럼 데이터 관리한다.

#### key

- 조건에 맞는 데이터를 찾기 위한 식별자
- 우선 다룰 주요한 키는 기본키, 외래키, 고유키
- 이론적)후보 키, 보조 키, 기본 키, 대체 키, 슈퍼 키, 외래 키
- 행을 특정 지을 수 있는 단 하나의 데이터는 기본키 이다. 중복 x, NULL x

- -다른 테이블을 참조하기 위한 (연관시키기위한) 키 -> 왜래키
- 참조하는 데이터가 삭제 되는-> on delete
- 참조하는 데이터가 변경되는 -> on update
- SET NULL : 전부 NULL값으로 채워라
- CASCADE: 함꼐 변경해라(함께, 함께 업데이트)
- RESTRICT: 삭제, 업데이트 자체를 제한

### select

밑에 순서도 외워주는게 좋다.

- SELECT 컬럼 - 어떤 열을 검색할지
    - as 해당 별명으로 보여줌
    - distinct 중복제거 후 보여줌
- FROM 테이블 - 어떤 테이블을 검색할지
- WHERE 조건 - 어떤걸 조회하고 싶은지 (조건식)
    - In, not in 으로 조건에 포함여부
    - where not 조건에 만족 안하는
    - is not 값이 해당 값이 아닐때
- GROUP BY 그룹화할 컬럼
- HAVING 필터_조건
- ORDER BY 정렬할 컬럼 - 정렬할 기준(오름차순, 내림차순)
    - asc 오름차순
    - decs 디센딩
- Limit (개수)
    - offset 개수 건너뛰고

#### 예시

- SELECT * FROM Company WHERE age > 23 AND age < 35;
- SELECT * FROM Company WHERE age BETWEEN 23 AND 35;