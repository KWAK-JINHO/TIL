> 참고자료: 이화여대 반효경 교수님 OS 강의

# 운영체제의 의미

- 좁은의미 : 커널을 뜻함
  ✍️ 커널이란? 전원이 켜지고나서 메모리에 항상 상주하는 부분
- 넓은의미: 커널 + 메모리에 상주하지 않는 프로그램들

# 운영체의 역할

- 자원을 효율적이고 형평성있게 관리
  ✍️ 자원 = 하드웨어 자원(프로세서, 기억장치, 입출력장치등..) + 소프트웨어 자원(메일, 파일등..)
- 사용자 편의성: 여러 사용자 및 프로그램들에게 독자적으로 컴퓨터를 사용하는 것 같은 경험을 제공한다.
- 사용자, 운영체제 자신을 보호

# 운영체제의 분류

- 동시작업 가능 여부
    - 단일작업
    - 다중작업
- 사용자 수
    - 단일 사용자
    - 다중 사용자(형평성 있는 자원 관리)
- 처리방식
    - 일괄처리(batch processing): 한번에 처리
    - 시분할(time sharing): 시간단위로 분할
    - 실시간(real time): 정해진 시간안에 반드시 처리

# 운영체제의 예시

- 유닉스
    - 유닉스를 만드려고 c언어 만듬
    - 포터블(이식이 쉬움)하다.
    - 핵심적인것만 커널에 넣었다.
    - 소스코드 공개
    - 확장이 용이하다.
- DOS(Disk Operating System)
- Ms Windows

# 운영체제의 구조

- CPU
    - 엄청 빠르기 때문에 어떻게 처리할 것인가 스케쥴링
    - 만약 요청이 들어온 순서대로 처리하게 되면 병목현상 발생
- Memory
    - 한정된 공간을 어떻게 쪼갤지
    - 메모리가 꽉차면 어떤것부터 쫒아낼건지
- Disk
    - 디스크에 파일을 어떻게 보관할지 스케쥴링
    - 헤드의 움직임을 최소화하는 방법 필요
- I.O
    - 입출력 관리
    - cpu에 interupte를 걸어서 요청
- 프로세스관리

<img src="./img/os_01.png"  width="70%" height="70%"/>

- CPU: 항상 메모리와 일한다.
- Mode bit: 지금 CPU에서 실행되고 있는 것이 운영체제인지 사용자 프로그램인지 체크, 보안목적
  커널모드: 0, 사용자 프로그램: 1 -> 제한된 인스트럭션을 모드비트가 1인 걸 보고 실행 안 되게 구현함. 인터럽트가 걸리면 CPU 제어권이 운영체제에 넘어가면서 모드비트가 0이 된다.
- Interrupt line: CPU는 항상 메모리의 인스트럭션만 실행한다. 하나 실행하면 기계어의 주소값이 증가. 그러면 다음 사이클에 다음 거 실행. I/O 일 끝내면 Interrupt line으로 알린다.
  메모리 어디의 기계어를 읽어오느냐? 메모리 주소를 가진 프로그램 카운터 레지스터가 가리킨 메모리 위치에서 읽어와서 CPU가 실행, 프로그램 카운터 레지스터는 다음 주소를 가리키게 된다.
- Registers: CPU 안에 메모리보다 더 빠르고 정보를 저장할 수 있는 작은 공간
- DMA: 원래는 CPU만 메모리에 접근이 가능한데 인터럽트가 너무 자주 걸리는 걸 막기 위해서 두었다.
- Memory Controller: CPU와 DMA가 동시에 메모리에 접근하지 않게 조율하는 역할
- Timer: 한 가지 사용자 프로그램이 CPU를 독점하지 못하게 두었다.
- Device Controller: I/O에 붙어있는 작은 CPU 같은
- Local Buffer: 헤드의 움직임 등 디스크 내부의 움직임을 통제. 일종의 data 레지스터. 외에도 제어정보를 위해 CPU가 device controller에게 일을 시키는 것.